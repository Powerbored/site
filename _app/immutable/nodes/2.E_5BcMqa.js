import{a as b,f as Z,c as mt,b as N}from"../chunks/D5rQvEft.js";import"../chunks/C3rJA_Z9.js";import{a5 as ut,b as h,a2 as vt,a4 as pt,s as j,h as C,g as e,a6 as $,i as G,a7 as v,N as k,a3 as bt,t as z}from"../chunks/jY4nZZVi.js";import{o as xt}from"../chunks/DOH63AGW.js";import{p as f,i as J}from"../chunks/CMJxDM0U.js";import{e as K,i as Mt,s as g}from"../chunks/9rA2JsFg.js";import{i as wt}from"../chunks/TDgR76Px.js";class A{#t=new WeakMap;#e;#n;static entries=new WeakMap;constructor(i){this.#n=i}observe(i,c){var u=this.#t.get(i)||new Set;return u.add(c),this.#t.set(i,u),this.#i().observe(i,this.#n),()=>{var F=this.#t.get(i);F.delete(c),F.size===0&&(this.#t.delete(i),this.#e.unobserve(i))}}#i(){return this.#e??(this.#e=new ResizeObserver(i=>{for(var c of i){A.entries.set(c.target,c);for(var u of this.#t.get(c.target)||[])u(c)}}))}}var yt=new A({box:"border-box"});function Q(p,i,c){var u=yt.observe(p,()=>c(p[i]));ut(()=>(h(()=>c(p[i])),u))}var Tt=N('<rect fill="red"></rect>'),_t=N('<rect x="0" y="0" width="100%" fill="red"></rect>'),St=N('<polyline fill="none" stroke-linecap="round" stroke-linejoin="round" class="svelte-di7tem"></polyline>'),Bt=N('<g class="lightning-bolt svelte-di7tem"><polyline fill="none" stroke-linecap="round" stroke-linejoin="round" class="transition-all duration-75 svelte-di7tem"></polyline><!></g>'),Pt=Z('<div class="fixed inset-0 pointer-events-none z-0 overflow-hidden"><div class="absolute inset-0 bg-transparent transition-colors duration-500"></div> <svg width="100%" height="100%" class="w-full h-full"><defs><filter id="glow"><feGaussianBlur stdDeviation="3" result="coloredBlur"></feGaussianBlur><feMerge><feMergeNode in="coloredBlur"></feMergeNode><feMergeNode in="SourceGraphic"></feMergeNode></feMerge></filter></defs><!><!><defs><linearGradient id="grad" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" style="stop-color:#7dd3fc; stop-opacity:1"></stop><stop offset="100%" style="stop-color:#38bdf8; stop-opacity:0.8"></stop></linearGradient></defs></svg></div>');function Rt(p,i){vt(i,!1);let c=f(i,"minTimeBetweenStrikes",8,500),u=f(i,"maxTimeBetweenStrikes",8,3e3),F=f(i,"minSegments",8,8),tt=f(i,"maxSegments",8,16),et=f(i,"minBranches",8,0),nt=f(i,"maxBranches",8,6),q=f(i,"topRegion",8,.2),it=f(i,"bottomRegion",8,.2),at=f(i,"minSegmentTime",8,20),rt=f(i,"maxSegmentTime",8,30),W=f(i,"startFromMainTitle",8,!1),ot=f(i,"debug",8,!1),T=k([]),_=k(0),x=k(0),X=0,S=0,a=k(null);function st(){if(!W()){v(a,null);return}const n=document.getElementById("main-title");if(!n){v(a,null);return}const t=n.getBoundingClientRect();if(t.width>0&&t.height>0){const r=window.getComputedStyle(n);if(r.display!=="none"&&r.visibility!=="hidden"&&parseFloat(r.opacity)>0){v(a,t);return}}v(a,null)}function s(n,t){return Math.random()*(t-n)+n}function lt(){return W()&&e(a)?{x:s(e(a).left,e(a).right),y:s(e(a).top+e(a).height*.4,e(a).bottom-e(a).height*.4)}:{x:s(0,e(_)),y:s(0,e(x)*q())}}function ct(){st();const n=lt(),t=n.x,r=n.y,d=s(0,e(_)),m=s(e(x)*(1-it()),e(x)),l=Math.floor(s(F(),tt())),o=[{x:t,y:r}];for(let w=1;w<=l;w++){const y=w/l,P=t+(d-t)*y,Y=r+(m-r)*y,R=e(_)*.15*(1-Math.abs(y-.5)*2);o.push({x:P+s(-R,R),y:Y})}const M=Math.floor(s(et(),nt())),I=[];for(let w=0;w<M;w++){const y=Math.floor(s(1,o.length-2)),P=o[y],Y=Math.floor(s(3,8)),R=[P];let O=P.x,U=P.y;const V=s(-Math.PI/4,Math.PI/4)+(Math.random()>.5?Math.PI/6:-Math.PI/6);for(let L=1;L<=Y;L++)O+=Math.cos(V)*(e(_)*.05)+s(-20,20),U+=Math.sin(V)*(e(x)*.05)+s(0,20),R.push({x:O,y:U});I.push({points:R,startTime:y/o.length})}return{id:crypto.randomUUID(),mainPath:o,branches:I,startTime:performance.now(),duration:l*s(at(),rt()),flashing:!1,finished:!1}}function D(n){S=n,n>X&&(v(T,[...e(T),ct()]),X=n+s(c(),u())),v(T,e(T).filter(t=>!t.finished).map(t=>{const r=n-t.startTime;return Math.min(r/t.duration,1)>=1&&!t.flashing?(t.flashing=!0,t):(t.flashing&&(t.finished=!0),t)})),requestAnimationFrame(D)}xt(()=>{S=performance.now(),X=S+s(c(),u());const n=requestAnimationFrame(D);return()=>cancelAnimationFrame(n)});function dt(n){const t=S-n.startTime,r=Math.min(t/n.duration,1),d=Math.ceil(r*n.mainPath.length);return n.mainPath.slice(0,d).map(m=>`${m.x},${m.y}`).join(" ")}function ht(n,t){const r=S-n.startTime,d=Math.min(r/n.duration,1);if(d<t.startTime)return"";const m=(d-t.startTime)/(1-t.startTime),l=Math.ceil(m*t.points.length);return t.points.slice(0,l).map(o=>`${o.x},${o.y}`).join(" ")}wt();var B=Pt(),E=j(C(B),2),H=j(C(E));{var ft=n=>{var t=mt(),r=bt(t);{var d=l=>{var o=Tt();z(()=>{g(o,"x",(e(a),h(()=>e(a).left))),g(o,"y",(e(a),h(()=>e(a).top+e(a).height*.4))),g(o,"width",(e(a),h(()=>e(a).width))),g(o,"height",(e(a),h(()=>e(a).height*.2)))}),b(l,o)},m=l=>{var o=_t();z(()=>g(o,"height",e(x)*q())),b(l,o)};J(r,l=>{W()&&e(a)?l(d):l(m,!1)})}b(n,t)};J(H,n=>{ot()&&n(ft)})}var gt=j(H);K(gt,1,()=>e(T),n=>n.id,(n,t)=>{var r=Bt(),d=C(r),m=j(d);K(m,1,()=>(e(t),h(()=>e(t).branches)),Mt,(l,o)=>{var M=St();z(I=>{g(M,"points",I),g(M,"stroke",(e(t),h(()=>e(t).flashing?"white":"url(#grad)"))),g(M,"stroke-width",(e(t),h(()=>e(t).flashing?2:1)))},[()=>(e(t),e(o),h(()=>ht(e(t),e(o))))]),b(l,M)}),G(r),z(l=>{g(r,"filter",(e(t),h(()=>e(t).flashing?"url(#glow)":""))),g(d,"points",l),g(d,"stroke",(e(t),h(()=>e(t).flashing?"white":"url(#grad)"))),g(d,"stroke-width",(e(t),h(()=>e(t).flashing?4:2)))},[()=>(e(t),h(()=>dt(e(t))))]),b(n,r)}),$(),G(E),G(B),Q(B,"clientWidth",n=>v(_,n)),Q(B,"clientHeight",n=>v(x,n)),b(p,B),pt()}var Ft=Z('<div class="relative min-h-screen overflow-hidden"><!> <div class="container mx-auto p-4 relative z-10"><h1 class="text-4xl md:text-6xl font-black italic tracking-tighter text-transparent bg-clip-text bg-gradient-to-br from-gray-900 to-gray-600 dark:from-white dark:to-gray-400 drop-shadow-sm mb-8 mt-20"><span id="main-title">Powerbored</span></h1></div></div>');function Wt(p){var i=Ft(),c=C(i);Rt(c,{startFromMainTitle:!0}),$(2),G(i),b(p,i)}export{Wt as component};
