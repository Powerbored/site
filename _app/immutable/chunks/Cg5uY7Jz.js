import{k,l as Z,E as X,m,o as D,p as $,q as j,g as U,v as ee,H as re,w as Y,x as F,y as O,C as ne,z as fe,A as q,B as ae,D as T,F as z,G as ie,I as se,J as oe,K as le,L as B,M as ue,N as te,O as ve,P as G,Q as ce,R as P,S as J,T as b,U as de,V as _e,W as pe,X as ge,Y as he,Z as Ee,_ as Te,$ as Ae,a0 as Ne,a1 as Se,a2 as Ie}from"./BxQMHeZQ.js";function ke(e,n){return n}function me(e,n,f){for(var u=[],t=n.length,l,o=n.length,p=0;p<t;p++){let E=n[p];J(E,()=>{if(l){if(l.pending.delete(E),l.done.add(E),l.pending.size===0){var v=e.outrogroups;y(B(l.done)),v.delete(l),v.size===0&&(e.outrogroups=null)}}else o-=1},!1)}if(o===0){var s=u.length===0&&f!==null;if(s){var c=f,a=c.parentNode;ge(a),a.append(c),e.items.clear()}y(n,!s)}else l={pending:new Set(n),done:new Set},(e.outrogroups??=new Set).add(l)}function y(e,n=!0){for(var f=0;f<e.length;f++)he(e[f],n)}var K;function De(e,n,f,u,t,l=null){var o=e,p=new Map,s=(n&X)!==0;if(s){var c=e;o=m?D($(c)):c.appendChild(k())}m&&j();var a=null,E=oe(()=>{var i=f();return le(i)?i:i==null?[]:B(i)}),v,_=!0;function N(){r.fallback=a,Ce(r,v,o,n,u),a!==null&&(v.length===0?(a.f&T)===0?P(a):(a.f^=T,x(a,null,o)):J(a,()=>{a=null}))}var C=Z(()=>{v=U(E);var i=v.length;let M=!1;if(m){var w=ee(o)===re;w!==(i===0)&&(o=Y(),D(o),F(!1),M=!0)}for(var h=new Set,S=ae,L=se(),g=0;g<i;g+=1){m&&O.nodeType===ne&&O.data===fe&&(o=O,M=!0,F(!1));var I=v[g],H=u(I,g),d=_?null:p.get(H);d?(d.v&&q(d.v,I),d.i&&q(d.i,g),L&&S.unskip_effect(d.e)):(d=Me(p,_?o:K??=k(),I,H,g,t,n,f),_||(d.e.f|=T),p.set(H,d)),h.add(H)}if(i===0&&l&&!a&&(_?a=z(()=>l(o)):(a=z(()=>l(K??=k())),a.f|=T)),i>h.size&&ie(),m&&i>0&&D(Y()),!_)if(L){for(const[Q,W]of p)h.has(Q)||S.skip_effect(W.e);S.oncommit(N),S.ondiscard(()=>{})}else N();M&&F(!0),U(E)}),r={effect:C,items:p,outrogroups:null,fallback:a};_=!1,m&&(o=O)}function R(e){for(;e!==null&&(e.f&_e)===0;)e=e.next;return e}function Ce(e,n,f,u,t){var l=(u&pe)!==0,o=n.length,p=e.items,s=R(e.effect.first),c,a=null,E,v=[],_=[],N,C,r,i;if(l)for(i=0;i<o;i+=1)N=n[i],C=t(N,i),r=p.get(C).e,(r.f&T)===0&&(r.nodes?.a?.measure(),(E??=new Set).add(r));for(i=0;i<o;i+=1){if(N=n[i],C=t(N,i),r=p.get(C).e,e.outrogroups!==null)for(const d of e.outrogroups)d.pending.delete(r),d.done.delete(r);if((r.f&T)!==0)if(r.f^=T,r===s)x(r,null,f);else{var M=a?a.next:s;r===e.effect.last&&(e.effect.last=r.prev),r.prev&&(r.prev.next=r.next),r.next&&(r.next.prev=r.prev),A(e,a,r),A(e,r,M),x(r,M,f),a=r,v=[],_=[],s=R(a.next);continue}if((r.f&b)!==0&&(P(r),l&&(r.nodes?.a?.unfix(),(E??=new Set).delete(r))),r!==s){if(c!==void 0&&c.has(r)){if(v.length<_.length){var w=_[0],h;a=w.prev;var S=v[0],L=v[v.length-1];for(h=0;h<v.length;h+=1)x(v[h],w,f);for(h=0;h<_.length;h+=1)c.delete(_[h]);A(e,S.prev,L.next),A(e,a,S),A(e,L,w),s=w,a=L,i-=1,v=[],_=[]}else c.delete(r),x(r,s,f),A(e,r.prev,r.next),A(e,r,a===null?e.effect.first:a.next),A(e,a,r),a=r;continue}for(v=[],_=[];s!==null&&s!==r;)(c??=new Set).add(s),_.push(s),s=R(s.next);if(s===null)continue}(r.f&T)===0&&v.push(r),a=r,s=R(r.next)}if(e.outrogroups!==null){for(const d of e.outrogroups)d.pending.size===0&&(y(B(d.done)),e.outrogroups?.delete(d));e.outrogroups.size===0&&(e.outrogroups=null)}if(s!==null||c!==void 0){var g=[];if(c!==void 0)for(r of c)(r.f&b)===0&&g.push(r);for(;s!==null;)(s.f&b)===0&&s!==e.fallback&&g.push(s),s=R(s.next);var I=g.length;if(I>0){var H=(u&X)!==0&&o===0?f:null;if(l){for(i=0;i<I;i+=1)g[i].nodes?.a?.measure();for(i=0;i<I;i+=1)g[i].nodes?.a?.fix()}me(e,g,H)}}l&&de(()=>{if(E!==void 0)for(r of E)r.nodes?.a?.apply()})}function Me(e,n,f,u,t,l,o,p){var s=(o&ue)!==0?(o&te)===0?ve(f,!1,!1):G(f):null,c=(o&ce)!==0?G(t):null;return{v:s,i:c,e:z(()=>(l(n,s??f,c??t,p),()=>{e.delete(u)}))}}function x(e,n,f){if(e.nodes)for(var u=e.nodes.start,t=e.nodes.end,l=n&&(n.f&T)===0?n.nodes.start:f;u!==null;){var o=Ee(u);if(l.before(u),u===t)return;u=o}}function A(e,n,f){n===null?e.effect.first=f:n.next=f,f===null?e.effect.last=n:f.prev=n}const we=Symbol("is custom element"),Le=Symbol("is html"),He=Ie?"link":"LINK";function Fe(e,n,f,u){var t=Re(e);m&&(t[n]=e.getAttribute(n),n==="src"||n==="srcset"||n==="href"&&e.nodeName===He)||t[n]!==(t[n]=f)&&(n==="loading"&&(e[Se]=f),f==null?e.removeAttribute(n):typeof f!="string"&&xe(e).includes(n)?e[n]=f:e.setAttribute(n,f))}function Re(e){return e.__attributes??={[we]:e.nodeName.includes("-"),[Le]:e.namespaceURI===Te}}var V=new Map;function xe(e){var n=e.getAttribute("is")||e.nodeName,f=V.get(n);if(f)return f;V.set(n,f=[]);for(var u,t=e,l=Element.prototype;l!==t;){u=Ne(t);for(var o in u)u[o].set&&f.push(o);t=Ae(t)}return f}export{De as e,ke as i,Fe as s};
